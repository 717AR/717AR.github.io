<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--  
<meta name="apple-mobile-web-app-capable" content="yes"/>
 -->   
<link rel="apple-touch-icon" href="icon.png">
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-indigo.css">
    
<head><title>Airport Reserve</title></head>
    
<body>
    
<header class="w3-container w3-card-4 w3-theme">
  <h1>787 Links</h1>
</header>

    <div class="reserve-dashboard">
        <div>
            <button class="button" id="today-button">Today RSV</button>
            <button class="button" id="tomorrow-button" style="display: none;">Tomorrow RSV</button> <br>
        </div>
    </div>

<a href="https://hawaiianair.sharepoint.com/sites/flightoperations/CrewPlanning/Vacation/2024%20Vacation%20Availability/787ca2024.pdf" class="vacation-link" target="_blank">2024 Vacation</a>
 <br>
<a href="https://hawaiianair.sharepoint.com/sites/flightoperations/CrewPlanning/Vacation/2025%20Annual%20Vacation%20Bidding/787ca2025.pdf" class="vacation-link" target="_blank">2025 Vacation</a>

 <script>
        const pdfBaseUrl = 'https://hawaiianair.sharepoint.com/sites/flightoperations/Daily%20Flight%20Schedules/';
        
        // Function to get the formatted date for the URL
        function getFormattedDateForUrl(date) {
            const days = String(date.getDate()).padStart(2, '0');
            const month = date.toLocaleString('default', { month: 'short' }).toUpperCase();
            const year = String(date.getFullYear()).slice(-2);
            return `${days}${month}${year}`;
        }

        function getFormattedHeaderDate(date) {
            const options = { weekday: 'long', month: 'short', day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }

        // Function to display today's date and set buttons
        function displayDate() {
            const today = new Date();
            const formattedCurrentDate = getFormattedHeaderDate(today);
            document.getElementById('current-date').innerText = formattedCurrentDate;

            // Check if it's after 4 PM in Hawaii
            const hawaiiTime = new Date(today.toLocaleString("en-US", { timeZone: "Pacific/Honolulu" }));
            const isAfter1600HST = hawaiiTime.getHours() >= 16;

            // Show "Tomorrow" button only after 4 PM Hawaii time
            const tomorrowButton = document.getElementById('tomorrow-button');
            if (isAfter1600HST) {
                tomorrowButton.style.display = 'block';
                tomorrowButton.onclick = function() {
                    const tomorrowDate = new Date();
                    tomorrowDate.setDate(today.getDate() + 1);
                    const pdfUrl = `${pdfBaseUrl}${getFormattedDateForUrl(tomorrowDate)}-PI PAX RSV LIST.PDF`;
                    window.open(pdfUrl, '_blank');
                };
            }

            // Set the 'Today' button
            document.getElementById('today-button').onclick = function() {
                const pdfUrl = `${pdfBaseUrl}${getFormattedDateForUrl(today)}-PI PAX RSV LIST.PDF`;
                window.open(pdfUrl, '_blank');
            };
        }

        // Set submission event for the date
        document.getElementById('submit-date').onclick = function() {
            const datePicker = document.getElementById('datepicker').value;
            const selectedDate = new Date(datePicker);

            if (!isNaN(selectedDate.getTime())) { // Check if valid date
                const pdfUrl = `${pdfBaseUrl}${getFormattedDateForUrl(selectedDate)}-PI PAX RSV LIST.PDF`;
                window.open(pdfUrl, '_blank');
            }

            // Hide the modal after selection
            document.getElementById('dateModal').style.display = "none";
        };

        // Initial calls
        displayDate();
    </script>

    
</body> 
</html>
