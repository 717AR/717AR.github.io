<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>787 Links</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            height: 100vh;
            background-color: #f5f5f5;
            overflow: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .header {
            background-color: #0077cc;
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            text-transform: uppercase;
            width: 100%;
        }
        .current-date {
            font-size: 16px;
            margin: 2px 0;
        }
        .header-content {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        .reserve-dashboard {
            text-align: center;
            margin: 10px;
            font-size: 22px;
            border: 1px solid #0077cc;
            border-radius: 8px;
            background-color: white;
            padding: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            display: inline-block;
            margin-top: 10px;
        }
        .button-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 10px;
        }
        .button {
            padding: 10px;
            background-color: #0077cc;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
            max-width: 150px;
            text-align: center;
            text-transform: uppercase;
            margin-bottom: 10px;
        }
        .recalls-section {
            margin-top: 10px;
            cursor: pointer;
            color: #0077cc;
            text-decoration: underline;
        }
        .date-picker {
            display: none; /* Initially hidden */
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <span>787 Links</span>
            <span class="current-date" id="current-date"></span>
        </div>
    </div>
    
    <div class="reserve-dashboard">
        <span class="reserve-dashboard-link" id="reserve-dashboard-link">Reserve Dashboard</span>
        <div class="button-container">
            <button class="button" id="today-button">Today</button>
            <button class="button" id="tomorrow-button">Tomorrow</button>
        </div>
    </div>

    <!-- Recalls Section -->
    <div class="recalls">
        <span class="recalls-section" id="recalls-section">Recalls:</span>
        <input type="date" id="recall-date-picker" class="date-picker" />
    </div>

    <div class="dfs-history">
        DFS History:
        <div class="date-picker">
            <input type="date" id="dfs-date-picker" />
        </div>
    </div>

    <script>
        const pdfBaseUrl = 'https://hawaiianair.sharepoint.com/sites/flightoperations/Daily%20Flight%20Schedules/';

        // Function to get the formatted date for the URL
        function getFormattedDateForUrl(date) {
            const days = String(date.getDate()).padStart(2, '0');
            const month = date.toLocaleString('default', { month: 'short' }).toUpperCase();
            const year = String(date.getFullYear()).slice(-2);
            return `${days}${month}${year}`;
        }

        function getFormattedHeaderDate(date) {
            const options = { weekday: 'long', month: 'short', day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }

        function displayDate() {
            const today = new Date();
            const formattedCurrentDate = getFormattedHeaderDate(today);
            document.getElementById('current-date').innerText = formattedCurrentDate;

            // Set the 'Today' button
            document.getElementById('today-button').onclick = function() {
                const pdfUrl = `${pdfBaseUrl}${getFormattedDateForUrl(today)}-PI PAX RSV LIST.PDF`;
                window.open(pdfUrl, '_blank');
            };

            // Update tomorrow button
            const tomorrowDate = new Date();
            tomorrowDate.setDate(today.getDate() + 1);
            document.getElementById('tomorrow-button').onclick = function() {
                const pdfUrl = `${pdfBaseUrl}${getFormattedDateForUrl(tomorrowDate)}-PI PAX RSV LIST.PDF`;
                window.open(pdfUrl, '_blank');
            };
        }

        // Hide/show date picker when clicking on Recalls text
        document.getElementById('recalls-section').onclick = function() {
            const datePicker = document.getElementById('recall-date-picker');
            datePicker.style.display = datePicker.style.display === 'block' ? 'none' : 'block'; // Toggle date picker
            datePicker.focus(); // Automatically focus on the date picker
        };

        // Handle date change for recalls
        document.getElementById('recall-date-picker').addEventListener('change', function() {
            const recallDate = new Date(this.value);
            if (!isNaN(recallDate.getTime())) {
                const recallPdfUrl = `${pdfBaseUrl}${getFormattedDateForUrl(recallDate)}-PI RCL LIST.PDF`;
                window.open(recallPdfUrl, '_blank');
            }
        });

        // Set the DFS date picker to redirect when a date is picked
        document.getElementById('dfs-date-picker').addEventListener('change', function() {
            const selectedDate = new Date(this.value);
            if (!isNaN(selectedDate.getTime())) { 
                const pdfUrl = `${pdfBaseUrl}${getFormattedDateForUrl(selectedDate)}-787 DFSH.PDF`;
                window.open(pdfUrl, '_blank');
            }
        });

        // Initial calls
        displayDate();
    </script>
</body>
</html>
